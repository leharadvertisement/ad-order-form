
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --card: 0 0% 100%;
  --card-foreground: 222.2 84% 4.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 222.2 84% 4.9%;
  --primary: 210 40% 98%; /* Default primary from ShadCN - blue was #007BFF */
  --primary-foreground: 222.2 47.4% 11.2%;
  --secondary: 210 40% 96.1%; /* Light gray from original: #f0f0f0 */
  --secondary-foreground: 222.2 47.4% 11.2%;
  --muted: 210 40% 96.1%;
  --muted-foreground: 215.4 16.3% 46.9%;
  --accent: 210 40% 96.1%; /* Accent from original blue: #007BFF */
  --accent-foreground: 222.2 47.4% 11.2%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 210 40% 98%;
  --border: 214.3 31.8% 91.4%; /* Original border was black */
  --input: 214.3 31.8% 91.4%; /* Original input border was black */
  --ring: 222.2 84% 4.9%;
  --radius: 0.5rem;
}

.dark {
  --background: 222.2 84% 4.9%;
  --foreground: 210 40% 98%;
  --card: 222.2 84% 4.9%;
  --card-foreground: 210 40% 98%;
  --popover: 222.2 84% 4.9%;
  --popover-foreground: 210 40% 98%;
  --primary: 210 40% 98%;
  --primary-foreground: 222.2 47.4% 11.2%;
  --secondary: 217.2 32.6% 17.5%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217.2 32.6% 17.5%;
  --muted-foreground: 215 20.2% 65.1%;
  --accent: 217.2 32.6% 17.5%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 210 40% 98%;
  --border: 217.2 32.6% 17.5%;
  --input: 217.2 32.6% 17.5%;
  --ring: 212.7 26.8% 83.9%;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    font-family: Arial, sans-serif;
    font-weight: bold;
    margin: 0;
    padding: 0;
    @apply bg-background text-foreground;
  }
}

/* General Print Styles - applied when window.print() is called or for PDF generation */
@media print {
  body, body.printing-from-preview, body.direct-print-active, body.clean-view-printing {
    margin: 0 !important;
    padding: 0 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    background-color: white !important;
  }

  .no-print, .no-pdf-export, .no-print-preview, .action-buttons-container, #printPreviewOverlay, .print-button-new-window {
    display: none !important;
  }

  #printable-area-pdf,
  body.printing-from-preview #printPreviewContent #printable-area-pdf,
  body.clean-view-printing #printable-area-pdf {
    width: 210mm !important;
    min-height: 297mm !important;
    height: auto !important; /* Changed to auto for content flow, flex will handle full page */
    margin: 0 auto !important;
    padding: 20px 20px 32px 20px !important; /* Top/Horizontal/Bottom/Horizontal - Increased bottom padding */
    border: 4px solid black !important;
    box-shadow: none !important;
    page-break-inside: avoid !important;
    background-color: white !important;
    color: black !important;
    overflow: hidden !important; /* Important to prevent content spill */
    position: static !important;
    font-size: 9pt !important;
    line-height: 1.1 !important;
    display: flex !important;
    flex-direction: column !important;
    box-sizing: border-box !important;
  }

  /* Fallback for generic #printable-area-pdf if printed directly (not from preview/clean view) */
  #printable-area-pdf:not(body.pdf-export-active #printable-area-pdf):not(body.printing-from-preview #printable-area-pdf):not(body.clean-view-printing #printable-area-pdf) {
      display: flex !important;
      flex-direction: column !important;
  }


  #printable-area-pdf .p-3,
  body.printing-from-preview #printPreviewContent #printable-area-pdf .p-3,
  body.clean-view-printing #printable-area-pdf .p-3 {
    padding: 12px !important; /* Consistent with screen p-3 */
  }
  #printable-area-pdf .gap-4,
  body.printing-from-preview #printPreviewContent #printable-area-pdf .gap-4,
  body.clean-view-printing #printable-area-pdf .gap-4 {
    gap: 1rem !important; /* Consistent with screen gap-4 */
  }
   #printable-area-pdf .mb-5, /* Table container margin */
   body.printing-from-preview #printPreviewContent #printable-area-pdf .mb-5,
   body.clean-view-printing #printable-area-pdf .mb-5 {
    margin-bottom: 1.25rem !important; /* Consistent with screen mb-5 */
  }
  #printable-area-pdf .mb-3, /* Matter container margin */
   body.printing-from-preview #printPreviewContent #printable-area-pdf .mb-3,
   body.clean-view-printing #printable-area-pdf .mb-3 {
    margin-bottom: 0.5rem !important; /* Consistent with screen mb-3 */
  }


  .print-root-container {
      background-color: transparent !important;
  }

  #printable-area-pdf input[type="text"],
  #printable-area-pdf input[type="number"],
  #printable-area-pdf input[type="date"],
  #printable-area-pdf textarea,
  body.printing-from-preview #printPreviewContent #printable-area-pdf input[type="text"],
  body.printing-from-preview #printPreviewContent #printable-area-pdf input[type="number"],
  body.printing-from-preview #printPreviewContent #printable-area-pdf input[type="date"],
  body.printing-from-preview #printPreviewContent #printable-area-pdf textarea,
  body.clean-view-printing #printable-area-pdf input[type="text"],
  body.clean-view-printing #printable-area-pdf input[type="number"],
  body.clean-view-printing #printable-area-pdf input[type="date"],
  body.clean-view-printing #printable-area-pdf textarea {
    border: 2px solid black !important; /* Match screen input border */
    padding: 4px !important; /* Match screen input padding */
    background-color: transparent !important;
    color: black !important;
    box-shadow: none !important;
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    font-size: 9pt !important;
    line-height: 1.1 !important;
    overflow: visible !important;
    height: auto !important;
    min-height: initial !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    border-radius: 0.25rem !important; /* Match screen input radius */
  }
  
  /* Ensure specific inputs like RO No and Date also get this full border if not already covered */
  #printable-area-pdf #roNumber,
  #printable-area-pdf #orderDate,
  body.printing-from-preview #printPreviewContent #printable-area-pdf #roNumber,
  body.printing-from-preview #printPreviewContent #printable-area-pdf #orderDate,
  body.clean-view-printing #printable-area-pdf #roNumber,
  body.clean-view-printing #printable-area-pdf #orderDate {
    border: 2px solid black !important; /* Match screen border */
    padding: 4px !important; /* Match screen padding */
  }

  #printable-area-pdf textarea,
  body.printing-from-preview #printPreviewContent #printable-area-pdf textarea,
  body.clean-view-printing #printable-area-pdf textarea {
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
    border-top: 2px solid black !important; /* Textareas typically have top border too */
  }

  #printable-area-pdf .main-table-bordered td textarea.print-textarea,
  body.printing-from-preview #printPreviewContent #printable-area-pdf .main-table-bordered td textarea.print-textarea,
  body.clean-view-printing #printable-area-pdf .main-table-bordered td textarea.print-textarea {
      border: none !important;
      min-height: 250px !important;
      height: auto !important;
      overflow: hidden !important;
  }
  #printable-area-pdf .matter-container-print .textarea-static-print, /* For the matter section */
  body.printing-from-preview #printPreviewContent #printable-area-pdf .matter-container-print .textarea-static-print,
  body.clean-view-printing #printable-area-pdf .matter-container-print .textarea-static-print {
    border: none !important; /* Matter textarea should not have its own border if parent has it */
    padding: 1px !important;
    min-height: 80px !important;
    height: auto !important;
    overflow: hidden !important;
  }


  .static-print-text { /* This class is used for PDF generation when inputs are converted to spans */
    display: inline-block !important;
    padding: 4px !important; 
    margin: 0 !important;
    font-weight: bold !important;
    font-size: 9pt !important;
    color: black !important;
    background-color: transparent !important;
    border: 2px solid black !important; 
    width: auto !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
    line-height: 1.1 !important;
    min-height: 1.2em; /* ensure some height */
    border-radius: 0.25rem !important;
  }

  .textarea-static-print {
    border: 2px solid black !important; /* Full border for textareas */
    height: auto !important;
    min-height: initial !important;
    resize: none !important;
    overflow: hidden !important;
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
    font-size: 9pt !important;
    line-height: 1.1 !important;
    padding: 4px !important;
    border-radius: 0.25rem !important;
  }

  .print-table {
    width: 100% !important;
    border-collapse: collapse !important;
    border: 2px solid black !important;
    font-size: 8pt !important;
     -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    border-radius: 0.25rem !important;
  }
  .print-table th, .print-table td {
    border: 1px solid black !important;
    padding: 6px !important; /* Match screen table cell padding */
    text-align: left !important;
    vertical-align: top !important;
    word-wrap: break-word !important;
    color: black !important;
    background-color: white !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    line-height: 1.1 !important;
  }
   .print-table td, .print-table td .print-textarea, .print-table td .textarea-static-print {
      min-height: 250px !important;
      height: auto !important; 
      overflow: hidden !important;
   }
  .print-table .print-table-header, .print-table-header > tr > th {
    background-color: hsl(var(--secondary)) !important; /* Match screen secondary */
    font-weight: bold !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    font-size: 8pt !important;
  }
  .print-table td textarea {
    font-size: 8pt !important;
    padding: 1px !important;
    border: none !important;
    line-height: 1.1 !important;
    overflow: hidden !important;
  }

  .release-order-title-screen, 
  .release-order-titlebar-print-preview { 
    text-align: center !important;
    margin-top: 10px !important;
    margin-bottom: 20px !important;
    width: fit-content !important;
    margin-left: auto !important;
    margin-right: auto !important;
    background-color: transparent !important;
  }
  .release-order-title-screen h2,
  .release-order-titlebar-print-preview h2 {
    display: inline-block !important;
    background-color: black !important;
    color: white !important;
    border: 2px solid black !important;
    padding: 4px 10px !important;
    font-weight: bold !important;
    font-size: 22px !important;
    border-radius: 4px !important;
    margin: 0 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  .matter-label-screen, 
  .matter-label-print-preview { 
    writing-mode: vertical-lr !important;
    text-orientation: mixed !important;
    transform: rotate(180deg);
    padding: 2px !important;
    font-size: 16px !important;
    font-weight: bold !important;
    text-align: center !important;
    border-right: 1px solid black !important;
    background-color: black !important;
    color: white !important;
    width: 38px !important;
    height: auto !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
   .matter-label-screen span, .matter-label-print-preview span {
      display: block;
   }

  .matter-container-print-parent {
    border: 2px solid black !important;
    border-radius: 0.25rem !important;
    margin-bottom: 0.5rem !important; /* Consistent with screen mb-3 */
    page-break-inside: avoid !important;
    padding: 0 !important; /* Remove padding if border is on parent */
  }


  .stamp-container-screen, 
  .stamp-container-print-preview { 
    width: 178px !important; 
    height: 98px !important; 
    border: 0px !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    background-color: transparent !important;
    font-size: 12px !important; 
    color: #555 !important; 
    text-align: center !important;
    overflow: hidden !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  .stamp-container-screen img, .stamp-container-print-preview img {
    max-width: 100% !important;
    max-height: 100% !important;
    object-fit: contain !important;
  }
  .stamp-container-screen > div:not(img), .stamp-container-print-preview > div:not(img) {
      border: 0px !important;
      background-color: #f9fafb !important;
  }


  .no-pdf, .html2pdf__page-break {
      display: none !important;
  }

  .flex { 
    display: flex !important;
  }

  #printable-area-pdf .print-footer-box {
    border: 2px solid black !important;
    border-radius: 0.25rem !important; /* Added for consistency */
    padding: 12px !important; /* Added for consistency */
    margin-top: auto !important; /* Pushes to bottom of flex container */
    flex-shrink: 0 !important;
  }

  .page-break-before {
    page-break-before: always !important;
  }

  #printable-area-pdf .text-lg { font-size: 12pt !important; }
  #printable-area-pdf .text-md { font-size: 10pt !important; }
  #printable-area-pdf .text-sm { font-size: 9pt !important; }
  #printable-area-pdf .text-xs { font-size: 8pt !important; }
  #printable-area-pdf .leading-snug { line-height: 1.2 !important; }
  #printable-area-pdf label { font-size: 9pt !important; margin-right: 4px !important; }
  #printable-area-pdf ol.list-decimal li { font-size: 8pt !important; }

  #printable-area-pdf .print-header-box,
  body.printing-from-preview #printPreviewContent #printable-area-pdf .print-header-box,
  body.clean-view-printing #printable-area-pdf .print-header-box {
    display: flex !important;
    flex-direction: row !important;
    align-items: stretch !important; 
    width: 100% !important;
    gap: 1rem !important; 
    page-break-inside: avoid !important;
  }

  #printable-area-pdf .print-header-box > .company-logo-container-pdf, 
  body.printing-from-preview #printPreviewContent #printable-area-pdf .print-header-box > .company-logo-container-pdf,
  body.clean-view-printing #printable-area-pdf .print-header-box > .company-logo-container-pdf {
    width: 300px !important; 
    height: 280px !important; 
    flex-shrink: 0 !important; 
    padding: 0 !important; /* Let image fill this if cover is used */
    border: 2px solid black !important; 
    border-radius: 0.25rem !important; 
    box-sizing: border-box !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important; /* Center image if not covering */
    align-items: center !important;
    position: relative !important;
    overflow: hidden !important;
  }

  #printable-area-pdf .print-header-box > .print-info-column,
  body.printing-from-preview #printPreviewContent #printable-area-pdf .print-header-box > .print-info-column,
  body.clean-view-printing #printable-area-pdf .print-header-box > .print-info-column {
    flex: 1 1 0% !important; 
    display: flex !important;
    flex-direction: column !important; 
    gap: 0.75rem !important; 
    padding: 12px !important; 
    border: 2px solid black !important; 
    border-radius: 0.25rem !important; 
    box-sizing: border-box !important;
  }
  
  #printable-area-pdf .print-header-box > .print-content-block,
  body.printing-from-preview #printPreviewContent #printable-area-pdf .print-header-box > .print-content-block,
  body.clean-view-printing #printable-area-pdf .print-header-box > .print-content-block {
    flex: 1 1 0% !important; 
    padding: 12px !important; 
    border: 2px solid black !important;
    border-radius: 0.25rem !important; 
    box-sizing: border-box !important;
  }
} /* End of @media print */


/* Screen Styles (non-print) */
#main-application-container {
  font-family: Arial, sans-serif;
  font-weight: bold;
  color: #000;
}

#printable-area-pdf { 
  width: 100%;
  max-width: 210mm;
  min-height: 297mm; /* Ensure it has a min-height for flex to work on screen too */
  height: auto;
  margin: 0 auto;
  padding: 20px; /* Screen padding */
  border: 4px solid black;
  background-color: white;
  box-sizing: border-box;
  position: relative;
  overflow: hidden; 
  display: flex; /* Added for screen consistency */
  flex-direction: column; /* Added for screen consistency */
}
#printable-area-pdf > .print-footer-box { /* Target direct child for screen */
  flex-shrink: 0;
  border: 2px solid black !important; /* Ensure border on screen too */
  border-radius: 0.25rem !important;
  padding: 12px !important;
  margin-top: auto;
}


#printable-area-pdf input[type="text"],
#printable-area-pdf input[type="number"],
#printable-area-pdf input[type="date"],
#printable-area-pdf textarea {
    border-bottom: 1px solid black; /* Default screen style, specific inputs have full border */
    padding: 4px;
    background-color: white;
    color: black;
}
#printable-area-pdf #roNumber, /* Specific inputs with full border */
#printable-area-pdf #orderDate,
#printable-area-pdf #clientName,
#printable-area-pdf .print-info-column input,
#printable-area-pdf .print-content-block input {
    border: 2px solid black;
    padding: 4px;
    border-radius: 0.25rem;
}

#printable-area-pdf textarea {
  border-top: 1px solid black; /* Default screen style for textarea */
}
#printable-area-pdf #matterTextarea {
    border-top: none;
    border-left: none;
    border-right: none;
    border-bottom: none;
    /* Border applied by parent .matter-container-print-parent */
}

#printable-area-pdf .main-table-bordered td .print-textarea {
    border: none !important;
    min-height: 250px; 
}


.main-table-bordered {
  border-collapse: collapse;
  border: 2px solid black;
  border-radius: 0.25rem;
}
.main-table-bordered th,
.main-table-bordered td {
  border: 1px solid black;
  padding: 6px;
  vertical-align: top;
}
.main-table-bordered th {
  background-color: hsl(var(--secondary)); /* Match ShadCN secondary */
}


.release-order-title-screen {
  text-align: center;
  margin-top: 10px;
  margin-bottom: 20px;
}
.release-order-title-screen h2 {
  display: inline-block;
  background-color: black;
  color: white;
  border: 2px solid black;
  padding: 4px 10px;
  font-weight: bold;
  font-size: 22px;
  border-radius: 4px;
  margin:0;
}

.matter-label-screen {
  writing-mode: vertical-lr;
  text-orientation: mixed;
  transform: rotate(180deg);
  background-color: black;
  color: white;
  padding: 2px;
  font-size: 16px;
  font-weight: bold;
  text-align: center;
  border-right: 1px solid black;
  width: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.matter-label-screen span {
    display:block;
}
.matter-content-screen textarea {
    text-align: left;
    font-weight: bold;
    font-size: 16px;
}

.stamp-container-screen {
  width: 178px;
  height: 98px;
  border: 0px;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-size: 12px;
  color: #555;
  background-color: transparent;
  border-radius: 4px;
  cursor: pointer;
  position: relative;
}
.stamp-container-screen img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}
.stamp-container-screen > div:not(img) {
    border: 0px;
    background-color: #f9fafb;
}


/* Styles for Print Preview Modal */
body.print-preview-active > #main-application-container > *:not(#printPreviewOverlay) {
}

#printPreviewOverlay {
  background-color: rgba(0,0,0,0.75); 
  z-index: 9999;
}

#printPreviewModalContentContainer {
  background-color: white;
  max-width: 95vw; 
  max-height: 95vh; 
  overflow: hidden; 
  display: flex;
  flex-direction: column;
   z-index: 10000; 
}

#printPreviewContent {
  overflow: auto; 
  flex-grow: 1; 
}

#printPreviewContent > #printable-area-pdf {
    margin: 20px auto !important; 
    border: 4px solid black !important; 
    box-shadow: 0 0 10px rgba(0,0,0,0.2) !important; 
    padding: 20px 20px 32px 20px !important; /* Consistent with @media print, increased bottom padding */
    width: 210mm !important;  
    min-height: 297mm !important; 
    height: auto !important; 
    box-sizing: border-box !important;
    background-color: white !important; 
    color: black !important; 
    transform: none !important; 
    overflow: hidden !important; 
    display: flex !important; 
    flex-direction: column !important;
}
#printPreviewContent > #printable-area-pdf .print-footer-box {
    border: 2px solid black !important;
    border-radius: 0.25rem !important;
    padding: 12px !important;
    margin-top: auto !important; 
    flex-shrink: 0 !important;
}


#printPreviewContent #printable-area-pdf input,
#printPreviewContent #printable-area-pdf textarea,
#printPreviewContent #printable-area-pdf select {
    border: 2px solid black !important; 
    padding: 4px !important; 
    border-radius: 0.25rem !important;
}
#printPreviewContent #printable-area-pdf .main-table-bordered {
    border: 2px solid black !important; 
    border-radius: 0.25rem !important;
}
#printPreviewContent #printable-area-pdf .main-table-bordered th,
#printPreviewContent #printable-area-pdf .main-table-bordered td {
    border: 1px solid black !important; 
    padding: 6px !important; 
}
#printPreviewContent #printable-area-pdf .release-order-title-screen h2 {
    background-color: black !important; 
    color: white !important; 
}
#printPreviewContent #printable-area-pdf .matter-label-screen {
    background-color: black !important; 
    color: white !important; 
}
#printPreviewContent #printable-area-pdf .matter-container-print-parent {
    border: 2px solid black !important;
    border-radius: 0.25rem !important;
}



/* Styles for Full Screen Preview */
#printable-area-pdf.fullscreen-preview-active {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  max-width: none !important;
  margin: 0 !important;
  padding: 20px !important; /* Consistent with screen padding */
  border: 4px solid black !important; /* Consistent main border */
  box-shadow: none !important;
  background-color: white !important;
  overflow: auto !important;
  z-index: 2000 !important;
  display: flex !important; 
  flex-direction: column !important;
}
#printable-area-pdf.fullscreen-preview-active > .print-footer-box {
    border: 2px solid black !important; /* Ensure border in fullscreen */
    border-radius: 0.25rem !important;
    padding: 12px !important;
    margin-top: auto !important;
    flex-shrink: 0 !important;
}


#fullscreen-content-host {
}

.date-picker-trigger-button {
  @apply justify-center text-center font-normal bg-transparent;
}

.date-picker-trigger-button:hover {
    @apply bg-accent text-accent-foreground;
}

.date-picker-trigger-button svg {
 @apply h-4 w-4 opacity-50;
}

.no-underline-print {
    text-decoration: none !important;
}


/* Styles specifically for PDF generation via html2pdf */
body.pdf-export-active #printable-area-pdf {
    padding: 8mm 8mm 14mm 8mm !important; /* Top/Horizontal/Bottom/Horizontal - Increased bottom padding */
    border-width: 4px !important;
    border-color: black !important;
    font-size: 9pt !important;
    line-height: 1.1 !important;
    width: 210mm !important;
    height: 297mm !important; /* Fixed height for PDF single page */
    box-sizing: border-box !important;
    overflow: hidden !important; /* Important to prevent content spill */
    position: relative !important;
    background-color: white !important;
    color: black !important;
    --pdf-textarea-min-height: 20px;
    --pdf-table-textarea-min-height: 180px; 
    --pdf-matter-textarea-min-height: 80px; 
    --pdf-matter-textarea-max-height: 100px; 
    --pdf-table-textarea-max-height: 180px; 
    display: flex !important; 
    flex-direction: column !important;
}
body.pdf-export-active #printable-area-pdf .print-footer-box {
    border: 2px solid black !important;
    border-radius: 0.25rem !important;
    padding: 12px !important; /* Convert to mm if needed, but px might be fine for internal pdf padding */
    margin-top: auto !important;
    flex-shrink: 0 !important;
}


body.pdf-export-active #printable-area-pdf * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    box-sizing: border-box !important;
}

body.pdf-export-active #printable-area-pdf .p-1,
body.pdf-export-active #printable-area-pdf .p-2,
body.pdf-export-active #printable-area-pdf .p-3,
body.pdf-export-active #printable-area-pdf .px-1,
body.pdf-export-active #printable-area-pdf .px-2,
body.pdf-export-active #printable-area-pdf .px-3,
body.pdf-export-active #printable-area-pdf .py-1,
body.pdf-export-active #printable-area-pdf .py-2,
body.pdf-export-active #printable-area-pdf .py-3,
body.pdf-export-active #printable-area-pdf .p-1\.5 {
    padding: 1px !important;
}
body.pdf-export-active #printable-area-pdf .m-1,
body.pdf-export-active #printable-area-pdf .m-2,
body.pdf-export-active #printable-area-pdf .mt-1,
body.pdf-export-active #printable-area-pdf .mt-2,
body.pdf-export-active #printable-area-pdf .mb-1,
body.pdf-export-active #printable-area-pdf .mb-2,
body.pdf-export-active #printable-area-pdf .mb-3,
body.pdf-export-active #printable-area-pdf .mb-4,
body.pdf-export-active #printable-area-pdf .mb-5 {
    margin: 2px !important; 
}
body.pdf-export-active #printable-area-pdf .gap-1,
body.pdf-export-active #printable-area-pdf .gap-2,
body.pdf-export-active #printable-area-pdf .gap-3,
body.pdf-export-active #printable-area-pdf .gap-4 {
    gap: 0.5rem !important; /* Slightly reduced gap for PDF compactness */
}


body.pdf-export-active .release-order-titlebar-print-preview h2 {
    background-color: black !important;
    color: white !important;
    border-width: 1px !important;
    padding: 2px 4px !important;
    font-size: 12pt !important;
}
body.pdf-export-active .release-order-titlebar-print-preview {
     margin-bottom: 10px !important; /* Reduced from 20px */
}


body.pdf-export-active .matter-label-print-preview {
    background-color: black !important;
    color: white !important;
    font-size: 8pt !important;
    width: 20px !important;
    padding: 1px !important;
}

body.pdf-export-active .print-table {
    font-size: 7pt !important;
    border-width: 2px !important; /* Match screen table border */
    border-radius: 0.25rem !important;
}
body.pdf-export-active .print-table th,
body.pdf-export-active .print-table td {
    padding: 3px !important; /* Reduced padding for PDF table cells */
    font-size: 6.5pt !important;
    line-height: 1.0 !important;
    border-width: 1px !important;
    vertical-align: top !important;
    min-height: var(--pdf-table-textarea-min-height, 180px) !important; 
    height: auto !important;
    overflow: hidden !important; /* Prevent content spill from cells */
}
body.pdf-export-active .print-table .print-table-header {
    background-color: hsl(var(--secondary)) !important; /* Match screen */
    font-size: 7pt !important;
}

body.pdf-export-active .static-print-text {
    color: black !important;
    border: 1px solid black !important; /* Consistent border for static text */
    font-size: 8pt !important;
    padding: 2px !important; 
    line-height: 1.0 !important;
    overflow: hidden !important; 
    white-space: nowrap !important; 
    min-height: 1.1em; 
    border-radius: 0.25rem !important;
}
body.pdf-export-active .textarea-static-print {
    color: black !important;
    font-size: 8pt !important;
    line-height: 1.0 !important;
    min-height: initial !important;
    overflow: hidden !important;
    border-width: 1px !important; /* Consistent border */
    border-style: solid !important;
    border-color: black !important;
    border-radius: 0.25rem !important; /* Added radius */
}
body.pdf-export-active .matter-container-print .textarea-static-print {
    padding: 1px !important;
    border: none !important; /* Matter textarea relies on parent border */
    min-height: var(--pdf-matter-textarea-min-height, 80px) !important;
    max-height: var(--pdf-matter-textarea-max-height, 100px) !important;
    overflow: hidden !important; /* Ensure matter text doesn't spill */
}

body.pdf-export-active #printable-area-pdf .matter-container-print-parent {
    border: 2px solid black !important; /* Ensure border */
    border-radius: 0.25rem !important; /* Ensure radius */
    margin-bottom: 0.5rem !important; 
    padding: 0 !important;
}


body.pdf-export-active .stamp-container-print-preview {
    background-color: transparent !important;
    border: 0px !important;
    width: 90px !important;
    height: 50px !important;
    font-size: 6pt !important;
}
body.pdf-export-active .stamp-container-print-preview > div:not(img) {
    border: 0px !important;
    background-color: #f0f0f0 !important;
}

body.pdf-export-active #printable-area-pdf .text-lg { font-size: 10pt !important; }
body.pdf-export-active #printable-area-pdf .text-md { font-size: 8pt !important; }
body.pdf-export-active #printable-area-pdf .text-sm { font-size: 7pt !important; }
body.pdf-export-active #printable-area-pdf .text-xs { font-size: 6pt !important; }
body.pdf-export-active #printable-area-pdf .leading-snug { line-height: 1.05 !important; }
body.pdf-export-active #printable-area-pdf label { font-size: 7pt !important; margin-right: 1px !important; }
body.pdf-export-active #printable-area-pdf ol.list-decimal li { font-size: 6pt !important; margin-bottom: 0px !important; }

body.pdf-export-active #printable-area-pdf .print-footer-box p,
body.pdf-export-active #printable-area-pdf .print-footer-box span,
body.pdf-export-active #printable-area-pdf .print-footer-box li {
    font-size: 6pt !important;
    line-height: 1.05 !important;
}

body.pdf-export-active #printable-area-pdf .main-table-bordered td .print-textarea,
body.pdf-export-active #printable-area-pdf .print-table td .textarea-static-print {
    height: auto !important;
    min-height: var(--pdf-table-textarea-min-height, 180px) !important; 
    max-height: var(--pdf-table-textarea-max-height, 180px) !important;
    font-size: 6.5pt !important;
    line-height: 1.0 !important;
    overflow: hidden !important;
    border: none !important;
}

body.pdf-export-active #printable-area-pdf hr {
    border-width: 0.5px !important;
    margin-top: 1px !important;
    margin-bottom: 1px !important;
}

.main-table-bordered td textarea.print-textarea {
    height: 100%;
    min-height: 250px; /* Matched to general print style for consistency */
    display: block;
}


body.pdf-export-active #printable-area-pdf {
    transform: scale(1);
}

body.pdf-export-active #printable-area-pdf img {
    max-width: 100% !important;
    height: auto !important;
}
body.pdf-export-active #printable-area-pdf .box-decoration-clone {
    box-decoration-break: clone;
    -webkit-box-decoration-break: clone;
}

/* PDF Export Specific Styles for Header Boxes Alignment */
body.pdf-export-active #printable-area-pdf .print-header-box {
  display: flex !important;
  flex-direction: row !important;
  align-items: stretch !important;
  width: 100% !important;
  gap: 0.5rem !important; /* Reduced gap for PDF */
  page-break-inside: avoid !important;
}

body.pdf-export-active #printable-area-pdf .print-header-box > .company-logo-container-pdf {
  width: 300px !important; /* Keep explicit size */
  height: 280px !important; 
  flex-shrink: 0 !important;
  padding: 0 !important; 
  border: 2px solid black !important;
  border-radius: 0.25rem !important; 
  box-sizing: border-box !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  align-items: center !important;
  position: relative !important;
  overflow: hidden !important;
}

body.pdf-export-active #printable-area-pdf .print-header-box > .print-info-column {
  flex: 1 1 0% !important;
  display: flex !important;
  flex-direction: column !important;
  gap: 0.5rem !important; /* Reduced gap */
  padding: 6px !important; /* Reduced padding */
  border: 2px solid black !important;
  border-radius: 0.25rem !important; 
  box-sizing: border-box !important;
}

body.pdf-export-active #printable-area-pdf .print-header-box > .print-content-block {
  flex: 1 1 0% !important;
  padding: 6px !important; /* Reduced padding */
  border: 2px solid black !important;
  border-radius: 0.25rem !important;
  box-sizing: border-box !important;
}

    
